<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Courses List</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="p-4">

  <h1 class="mb-4">Available Courses</h1>
  <div id="coursesContainer" class="row g-4"></div>

  <a href="./insert_course.html" class="btn btn-success mt-5  text-capitalize text-white">add course</a>

  <script>
    fetch('courses_api.php')
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById("coursesContainer");

        data.forEach(course => {
          const card = document.createElement("div");
          card.className = "col-md-4";
          card.innerHTML = `
            <div class="card h-100 shadow">
              <div class="card-body">
                <h5 class="card-title">${course.title}</h5>
                <p class="card-text">${course.description || 'No description'}</p>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">Hours: ${course.hours || 'N/A'}</li>
                  <li class="list-group-item">Price: ${course.price || 'N/A'} EGP</li>
                </ul>
              </div>
            </div>
          `;
          container.appendChild(card);
        });
      })
      .catch(err => {
        console.error("Error:", err);
        document.getElementById("coursesContainer").innerHTML = "<p class='text-danger'>Failed to load courses.</p>";
      });
  </script>
</body>
</html>
